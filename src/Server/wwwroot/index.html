<html>

<head>
  <title>Password Generator</title>
  <meta content='width=device-width, initial-scale=1' name='viewport' />
  <meta name="description" content="Secure password generator">
  <meta name="keywords" content="password, generator, security, strong passwords, password strength">
  <script>
    window.onload = function () {
      var hostname = window.location.hostname.split('.').slice(-2).join('.');
      var hostnameparts = hostname.split('.');

      if (hostnameparts.length == 1) {
        hostname = hostnameparts[0].toLowerCase();
      } else if (hostnameparts.length == 2) {
        hostname = hostnameparts[0].toLowerCase() + "." + hostnameparts[1].toUpperCase();
      }

      document.getElementById("host").innerHTML = hostname;
    };
  </script>
  <script>
    const default_options = {
      plength: 12,
      includeLowercase: true,
      includeUppercase: true,
      includeNumeric: true,
      includeSpecial: true,
      includeAmbiguous: false,
      characterProfile: 'conservative',
      colorCoded: true,
      theme: 'system',
    };

    function generatePassword(length, options) {
      const {
        includeLowercase = true,
        includeUppercase = true,
        includeNumeric = true,
        includeSpecial = true,
        includeAmbiguous = false,
        characterProfile = 'conservative',
        plength = 12
      } = options;

      const characterProfiles = {
        conservative: {
          lowercase: 'abcdefghijklmnopqrstuvwxyz',
          uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
          numeric: '0123456789',
          special: '!@$*()_-',
          similar: 'iIlL1O0',
          unambiguous: 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789',
        },
        standard: {
          lowercase: 'abcdefghijklmnopqrstuvwxyz',
          uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
          numeric: '0123456789',
          special: '!@$*()_-[]{},.?',
          similar: 'iIlL1O0',
          unambiguous: 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789',
        },
        full: {
          lowercase: 'abcdefghijklmnopqrstuvwxyz',
          uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
          numeric: '0123456789',
          special: '!@$^*()_-[]{}|<>,.?/~`',
          similar: 'iIlL1O0',
          unambiguous: 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789',
        }
      };

      const characters = characterProfiles[characterProfile] || characterProfiles.conservative;

      let validCharacters = [
        ...(includeLowercase ? characters.lowercase : ''),
        ...(includeUppercase ? characters.uppercase : ''),
        ...(includeNumeric ? characters.numeric : ''),
      ].join('');

      if (!includeAmbiguous) {
        validCharacters = [...validCharacters].filter(c => !characters.similar.includes(c)).join('');
      }

      if (validCharacters.length === 0) {
        throw new Error('At least one character type must be included in the password');
      }

      let password = '';
      let min_special_count = Math.ceil(1, Math.floor(length * 0.1));
      let max_special_count = Math.floor(length * 0.2);
      let special_count = 0;
      while (password.length < length) {
        while (password.length < length) {
          if ((includeSpecial && Math.random() < 0.1) && special_count < max_special_count) {
            password += characters.special[Math.floor(Math.random() * characters.special.length)];
            special_count++;
          } else {
            password += validCharacters[Math.floor(Math.random() * validCharacters.length)];
          }
        }

        if (includeSpecial) {
          // If there are less than min_special_count special characters, add some randomly.
          if (special_count < min_special_count) {
            while (special_count < min_special_count) {
              let index = Math.floor(Math.random() * password.length);
              password = password.slice(0, index) + characters.special[Math.floor(Math.random() * characters.special.length)] + password.slice(index);
              special_count++;
            }
          }
        }

        // Remove random characters if it's too long
        while (password.length > length) {
          let index = Math.floor(Math.random() * password.length);
          password = password.slice(0, index) + password.slice(index + 1);
        }
      }

      return password;
    }

    function displayPassword(password, colorCoded) {
      const passwordElement = document.getElementById('password');
      const isAnimationEnabled = getAnimationPreference();
      
      // Add animation class if animations are enabled
      if (isAnimationEnabled) {
        passwordElement.classList.add('password-generate-animation');
        // Remove the class after animation completes
        setTimeout(() => {
          passwordElement.classList.remove('password-generate-animation');
        }, 600);
      }
      
      if (colorCoded) {
        // Define all possible special characters from all profiles combined
        const allSpecialChars = '!@$^*()_-[]{}|<>,.?/~`';
        
        // Create colored HTML version
        const coloredHtml = password
          .split('')
          .map(char => {
            if (/\d/.test(char)) {
              return `<span class="password-number">${char}</span>`;
            } else if (allSpecialChars.includes(char)) {
              return `<span class="password-special">${char}</span>`;
            }
            return char;
          })
          .join('');
        passwordElement.innerHTML = coloredHtml;
      } else {
        // Display as plain text
        passwordElement.textContent = password;
      }
      
      // Store the plain text password for copying
      passwordElement.dataset.password = password;
    }
    function save_options(options) {
      var storage = {};
      // options is an object with name/value pairs
      for (var key in options) {
        storage[key] = options[key]
      }

      localStorage.setItem('options', JSON.stringify(storage));
    }
    function load_options() {
      var local_storage_options = localStorage.getItem('options');

      if (local_storage_options) {
        var options = JSON.parse(local_storage_options);
        return options
      }

      return null;
    }
    function reset_form() {
      // reset the form to default_options
      var form = document.getElementById('generate-password-form');
      for (var key in default_options) {
        var element = form.elements[key];
        if (element) {
          if (element instanceof HTMLInputElement && element.type == 'checkbox') {
            element.checked = default_options[key] == true;
          } else {
            element.value = default_options[key];
          }
        }
      }
    }
    function copyPassword() {
      const passwordElement = document.getElementById('password');
      const password = passwordElement.dataset.password || passwordElement.textContent;
      
      // Create a temporary textarea to copy the plain text password
      const tempTextarea = document.createElement('textarea');
      tempTextarea.value = password;
      document.body.appendChild(tempTextarea);
      tempTextarea.select();
      document.execCommand('copy');
      document.body.removeChild(tempTextarea);
    }

    function adjustTooltipPosition() {
      const tooltips = document.querySelectorAll('.tooltip');
      
      tooltips.forEach(tooltip => {
        const tooltipText = tooltip.querySelector('.tooltiptext');
        if (!tooltipText) return;

        // Reset classes
        tooltipText.classList.remove('tooltip-left', 'tooltip-right', 'tooltip-center');
        
        // Get tooltip trigger position
        const triggerRect = tooltip.getBoundingClientRect();
        const viewportWidth = window.innerWidth;
        const margin = 20; // Minimum margin from edges
        
        // Calculate dynamic tooltip width for smaller screens
        let tooltipWidth = 250; // Default tooltip width
        const maxWidth = viewportWidth - (margin * 2);
        if (tooltipWidth > maxWidth) {
          tooltipWidth = maxWidth;
          tooltipText.style.width = tooltipWidth + 'px';
        } else {
          tooltipText.style.width = '250px'; // Reset to default
        }
        
        // Calculate positions
        const triggerCenter = triggerRect.left + (triggerRect.width / 2);
        const tooltipLeft = triggerCenter - (tooltipWidth / 2);
        const tooltipRight = triggerCenter + (tooltipWidth / 2);
        
        // Determine positioning
        if (tooltipLeft < margin) {
          // Too close to left edge - align tooltip to left
          tooltipText.classList.add('tooltip-left');
        } else if (tooltipRight > (viewportWidth - margin)) {
          // Too close to right edge - align tooltip to right
          tooltipText.classList.add('tooltip-right');
        } else {
          // Enough space - center the tooltip
          tooltipText.classList.add('tooltip-center');
          // Update margin for dynamic width
          if (tooltipWidth !== 250) {
            tooltipText.style.marginLeft = '-' + (tooltipWidth / 2) + 'px';
          }
        }
      });
    }

    // Theme management functions
    function getThemePreference() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        return saved;
      }
      return 'system';
    }

    function setThemePreference(theme) {
      localStorage.setItem('theme', theme);
    }

    function applyTheme(theme) {
      const html = document.documentElement;
      const isAnimationEnabled = getAnimationPreference();
      
      // Add theme transition animation if animations are enabled
      if (isAnimationEnabled) {
        html.classList.add('theme-transition');
        const mainDiv = document.getElementById('main');
        if (mainDiv) {
          mainDiv.classList.add('theme-background-slide');
        }
        
        setTimeout(() => {
          html.classList.remove('theme-transition');
          if (mainDiv) {
            mainDiv.classList.remove('theme-background-slide');
          }
        }, 300);
      }
      
      if (theme === 'system') {
        html.removeAttribute('data-theme');
      } else {
        html.setAttribute('data-theme', theme);
      }
      
      updateThemeIcon(theme);
    }

    function updateThemeIcon(theme) {
      const systemIcon = document.getElementById('system-icon');
      const lightIcon = document.getElementById('light-icon');
      const darkIcon = document.getElementById('dark-icon');
      
      // Hide all icons
      systemIcon.style.display = 'none';
      lightIcon.style.display = 'none';
      darkIcon.style.display = 'none';
      
      // Show the appropriate icon
      if (theme === 'system') {
        systemIcon.style.display = 'block';
      } else if (theme === 'light') {
        lightIcon.style.display = 'block';
      } else if (theme === 'dark') {
        darkIcon.style.display = 'block';
      }
    }

    function toggleTheme() {
      const currentTheme = getThemePreference();
      let nextTheme;
      
      if (currentTheme === 'system') {
        nextTheme = 'light';
      } else if (currentTheme === 'light') {
        nextTheme = 'dark';
      } else {
        nextTheme = 'system';
      }
      
      setThemePreference(nextTheme);
      applyTheme(nextTheme);
    }

    // Animation management functions
    function getAnimationPreference() {
      const saved = localStorage.getItem('animations');
      if (saved !== null) {
        return saved === 'true';
      }
      // Default to true, but respect user's motion preferences
      return !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    }

    function setAnimationPreference(enabled) {
      localStorage.setItem('animations', enabled.toString());
    }

    function applyAnimations(enabled) {
      const html = document.documentElement;
      
      if (enabled) {
        html.setAttribute('data-animations', 'enabled');
      } else {
        html.setAttribute('data-animations', 'disabled');
      }
      
      updateAnimationIcon(enabled);
    }

    function updateAnimationIcon(enabled) {
      const animationToggle = document.getElementById('animation-toggle');
      if (!animationToggle) return;
      
      if (enabled) {
        animationToggle.classList.add('animation-enabled');
        animationToggle.title = 'Disable animations';
      } else {
        animationToggle.classList.remove('animation-enabled');
        animationToggle.title = 'Enable animations';
      }
    }

    function toggleAnimations() {
      const currentEnabled = getAnimationPreference();
      const newEnabled = !currentEnabled;
      
      setAnimationPreference(newEnabled);
      applyAnimations(newEnabled);
    }
  </script>
  <script>
    window.onload = function () {
      // Initialize theme
      const savedTheme = getThemePreference();
      applyTheme(savedTheme);
      
      // Initialize animations
      const savedAnimations = getAnimationPreference();
      applyAnimations(savedAnimations);
      
      // Add page load animation if animations are enabled
      if (savedAnimations) {
        document.body.classList.add('page-load-animation');
        const mainDiv = document.getElementById('main');
        if (mainDiv) {
          mainDiv.classList.add('background-gradient-load');
        }
        setTimeout(() => {
          document.body.classList.remove('page-load-animation');
          if (mainDiv) {
            mainDiv.classList.remove('background-gradient-load');
          }
        }, 1200);
      }
      
      const form = document.getElementById('generate-password-form');

      let options = load_options();
      if (options) {
        console.log(options)
        for (var key in options) {
          var element = form.elements[key];
          if (element) {
            if (element instanceof HTMLInputElement && element.type == 'checkbox') {
              element.checked = options[key] == true;
            } else {
              element.value = options[key];
            }
          }
        }
      }

      const passwordInput = document.getElementById('password');

      form.addEventListener('submit', event => {
        event.preventDefault();

        const length = Number(form.elements.plength.value);
        let options = {
          plength: form.elements.plength.value,
          includeLowercase: form.elements.includeLowercase.checked,
          includeUppercase: form.elements.includeUppercase.checked,
          includeNumeric: form.elements.includeNumeric.checked,
          includeSpecial: form.elements.includeSpecial.checked,
          includeAmbiguous: form.elements.includeAmbiguous.checked,
          characterProfile: form.elements.characterProfile.value,
          colorCoded: form.elements.colorCoded.checked,
        };

        const password = generatePassword(length, options);
        displayPassword(password, options.colorCoded);
        save_options(options);
      });

      form.addEventListener('reset', event => {
        event.preventDefault();
        reset_form();
      });

      form.elements.copypassword.addEventListener('click', event => {
        event.preventDefault();
        copyPassword();
      });

      // Add event listener for theme toggle button
      document.getElementById('theme-toggle').addEventListener('click', event => {
        event.preventDefault();
        toggleTheme();
      });

      // Add event listener for animation toggle button
      document.getElementById('animation-toggle').addEventListener('click', event => {
        event.preventDefault();
        toggleAnimations();
      });

      // Add event listener for colorCoded checkbox to re-render password
      form.elements.colorCoded.addEventListener('change', event => {
        const passwordElement = document.getElementById('password');
        const currentPassword = passwordElement.dataset.password || passwordElement.textContent;
        if (currentPassword) {
          displayPassword(currentPassword, event.target.checked);
        }
      });

      // Generate a password
      form.dispatchEvent(new Event('submit', { cancelable: true }));
      
      // Initialize tooltip positioning
      adjustTooltipPosition();
      
      // Update tooltip positioning on window resize
      window.addEventListener('resize', adjustTooltipPosition);
    };
  </script>
  <style>
    :root {
      /* Light theme variables */
      --bg-color: #ffffff;
      --bg-body: #171026;
      --text-color: #495057;
      --border-color: #ced4da;
      --focus-border-color: #80bdff;
      --focus-shadow: rgba(0, 123, 255, .25);
      --btn-primary-bg: #007bff;
      --btn-primary-border: #007bff;
      --btn-primary-hover-bg: #0069d9;
      --btn-primary-hover-border: #0062cc;
      --btn-secondary-bg: #6c757d;
      --btn-secondary-border: #6c757d;
      --btn-secondary-hover-bg: #5a6268;
      --btn-secondary-hover-border: #545b62;
      --tooltip-bg: #333;
      --tooltip-border: #333;
      --tooltip-icon-bg: #007bff;
      --footer-border: #276fd7;
      --footer-support-bg: #dfdaff;
      --footer-support-border: #d74a4a;
      --host-color: #0c5fac;
      --subtitle-color: #a3b5c5;
      --theme-btn-bg: #ffffff;
      --theme-btn-color: #495057;
      --theme-btn-border: #ced4da;
      --theme-btn-hover-bg: #f8f9fa;
    }

    [data-theme="dark"] {
      /* Dark theme variables */
      --bg-color: #1a1a1a;
      --bg-body: #0d0d0d;
      --text-color: #e0e0e0;
      --border-color: #404040;
      --focus-border-color: #4d94ff;
      --focus-shadow: rgba(77, 148, 255, .25);
      --btn-primary-bg: #0d6efd;
      --btn-primary-border: #0d6efd;
      --btn-primary-hover-bg: #0b5ed7;
      --btn-primary-hover-border: #0a58ca;
      --btn-secondary-bg: #6c757d;
      --btn-secondary-border: #6c757d;
      --btn-secondary-hover-bg: #5c636a;
      --btn-secondary-hover-border: #565e64;
      --tooltip-bg: #2a2a2a;
      --tooltip-border: #2a2a2a;
      --tooltip-icon-bg: #0d6efd;
      --footer-border: #4d94ff;
      --footer-support-bg: #2a2a2a;
      --footer-support-border: #dc3545;
      --host-color: #4d94ff;
      --subtitle-color: #9ca3af;
      --theme-btn-bg: #2a2a2a;
      --theme-btn-color: #e0e0e0;
      --theme-btn-border: #404040;
      --theme-btn-hover-bg: #404040;
    }

    /* Use system preference when no explicit theme is set */
    @media (prefers-color-scheme: dark) {
      :root:not([data-theme]) {
        --bg-color: #1a1a1a;
        --bg-body: #0d0d0d;
        --text-color: #e0e0e0;
        --border-color: #404040;
        --focus-border-color: #4d94ff;
        --focus-shadow: rgba(77, 148, 255, .25);
        --btn-primary-bg: #0d6efd;
        --btn-primary-border: #0d6efd;
        --btn-primary-hover-bg: #0b5ed7;
        --btn-primary-hover-border: #0a58ca;
        --btn-secondary-bg: #6c757d;
        --btn-secondary-border: #6c757d;
        --btn-secondary-hover-bg: #5c636a;
        --btn-secondary-hover-border: #565e64;
        --tooltip-bg: #2a2a2a;
        --tooltip-border: #2a2a2a;
        --tooltip-icon-bg: #0d6efd;
        --footer-border: #4d94ff;
        --footer-support-bg: #2a2a2a;
        --footer-support-border: #dc3545;
        --host-color: #4d94ff;
        --subtitle-color: #9ca3af;
        --theme-btn-bg: #2a2a2a;
        --theme-btn-color: #e0e0e0;
        --theme-btn-border: #404040;
        --theme-btn-hover-bg: #404040;
      }
    }

    .form-control {
      display: block;
      width: 100%;
      height: calc(1.5em + .75rem + 2px);
      padding: .375rem .75rem;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.5;
      color: var(--text-color);
      background-color: var(--bg-color);
      background-clip: padding-box;
      border: 1px solid var(--border-color);
      border-radius: .25rem;
      transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
    }

    .form-control:focus {
      color: var(--text-color);
      background-color: var(--bg-color);
      border-color: var(--focus-border-color);
      outline: 0;
      box-shadow: 0 0 0 .2rem var(--focus-shadow);
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-check {
      position: relative;
      display: block;
      padding-left: 1.25rem;
    }

    .form-check-input {
      position: absolute;
      margin-top: .3rem;
      margin-left: -1.25rem;
    }

    .form-check-label {
      margin-bottom: 0;
    }

    .btn {
      display: inline-block;
      font-weight: 400;
      text-align: center;
      white-space: nowrap;
      vertical-align: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      border: 1px solid transparent;
      padding: .375rem .75rem;
      font-size: 1rem;
      line-height: 1.5;
      border-radius: .25rem;
      transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
    }

    .btn-primary {
      color: #fff;
      background-color: var(--btn-primary-bg);
      border-color: var(--btn-primary-border);
    }

    .btn-primary:hover {
      color: #fff;
      background-color: var(--btn-primary-hover-bg);
      border-color: var(--btn-primary-hover-border);
    }

    .btn-secondary {
      color: #fff;
      background-color: var(--btn-secondary-bg);
      border-color: var(--btn-secondary-border);
    }

    .btn-secondary:hover {
      color: #fff;
      background-color: var(--btn-secondary-hover-bg);
      border-color: var(--btn-secondary-hover-border);
    }

    body {
      font-family: 'Roboto', sans-serif;
      font-size: 1rem;
      background-color: var(--bg-body);
      color: var(--text-color);
    }

    #copypassword {
      display: flex;
      align-items: center;
    }

    #copypassword .password-input__icon {
      margin-right: 10px;
    }

    .tooltip {
      position: relative;
      display: inline-block;
      margin-left: 5px;
      cursor: help;
      vertical-align: baseline;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 250px;
      background-color: var(--tooltip-bg);
      color: #fff;
      text-align: left;
      border-radius: 6px;
      padding: 8px;
      position: absolute;
      z-index: 1000;
      bottom: 125%;
      left: 50%;
      margin-left: -125px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.9em;
      line-height: 1.3;
      /* Keep tooltips within viewport bounds */
      max-width: calc(100vw - 20px);
      word-wrap: break-word;
      /* Ensure minimum margins from viewport edges */
      min-width: 200px;
    }

    /* Adjust tooltip position when it would go outside the viewport */
    .tooltip .tooltiptext::before {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: var(--tooltip-border) transparent transparent transparent;
    }

    /* Dynamic positioning classes added by JavaScript */
    .tooltip .tooltiptext.tooltip-left {
      left: 0;
      margin-left: 0;
    }

    .tooltip .tooltiptext.tooltip-right {
      right: 0;
      left: auto;
      margin-left: 0;
    }

    .tooltip .tooltiptext.tooltip-center {
      left: 50%;
      margin-left: -125px;
    }

    /* Adjust arrow position for left-aligned tooltips */
    .tooltip .tooltiptext.tooltip-left::before {
      left: 25px;
      margin-left: 0;
    }

    /* Adjust arrow position for right-aligned tooltips */
    .tooltip .tooltiptext.tooltip-right::before {
      left: auto;
      right: 25px;
      margin-left: 0;
    }

    /* Center arrow for center-aligned tooltips */
    .tooltip .tooltiptext.tooltip-center::before {
      left: 50%;
      margin-left: -5px;
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: var(--tooltip-border) transparent transparent transparent;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    .tooltip-icon {
      display: inline-block;
      width: 16px;
      height: 16px;
      background-color: var(--tooltip-icon-bg);
      border-radius: 50%;
      color: white;
      text-align: center;
      line-height: 16px;
      font-size: 12px;
      font-weight: bold;
      vertical-align: middle;
    }

    .password-display {
      font-family: 'Courier New', 'Monaco', monospace;
      word-break: break-word;
      white-space: normal;
      user-select: all;
      -webkit-user-select: all;
      -moz-user-select: all;
      -ms-user-select: all;
      overflow-wrap: break-word;
    }

    /* Constrain password box size to match input fields */
    #password {
      max-width: 400px;
      width: auto;
      min-height: calc(1.5em + .75rem + 2px);
      height: auto;
      padding: .375rem .75rem;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
    }

    /* Responsive design for mobile devices */
    @media (max-width: 768px) {
      #password {
        max-width: calc(100vw - 80px);
        width: auto;
      }
    }

    .password-number {
      color: #dc3545;
      font-weight: 500;
    }

    .password-special {
      color: #007bff;
      font-weight: 500;
    }

    .theme-toggle {
      background-color: var(--theme-btn-bg);
      color: var(--theme-btn-color);
      border: 1px solid var(--theme-btn-border);
      border-radius: .25rem;
      padding: .375rem .5rem;
      margin-left: 10px;
      cursor: pointer;
      transition: background-color .15s ease-in-out, border-color .15s ease-in-out;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 38px;
      height: 38px;
    }

    .theme-toggle:hover {
      background-color: var(--theme-btn-hover-bg);
    }

    .theme-toggle svg {
      width: 20px;
      height: 20px;
    }

    .copy-and-theme-container {
      display: flex;
      align-items: center;
    }

    .animation-toggle {
      background-color: var(--theme-btn-bg);
      color: var(--theme-btn-color);
      border: 1px solid var(--theme-btn-border);
      border-radius: .25rem;
      padding: .375rem .5rem;
      margin-left: 10px;
      cursor: pointer;
      transition: background-color .15s ease-in-out, border-color .15s ease-in-out;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 38px;
      height: 38px;
    }

    .animation-toggle:hover {
      background-color: var(--theme-btn-hover-bg);
    }

    .animation-toggle svg {
      width: 20px;
      height: 20px;
    }

    /* Continuous animation when animations are enabled */
    .animation-toggle.animation-enabled .animation-icon {
      animation: spin 2s linear infinite;
    }

    /* Animation keyframes */
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }

    @keyframes colorShift {
      0% {
        filter: hue-rotate(0deg);
      }
      100% {
        filter: hue-rotate(360deg);
      }
    }

    @keyframes themeSlideDown {
      0% {
        transform: translateY(-100%);
        opacity: 0;
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes colorFade {
      0% {
        opacity: 0.7;
      }
      50% {
        opacity: 0.4;
      }
      100% {
        opacity: 1;
      }
    }

    @keyframes backgroundGradientLoad {
      0% {
        background: linear-gradient(135deg, var(--bg-body) 0%, var(--bg-color) 100%);
        background-size: 400% 400%;
        background-position: 100% 100%;
      }
      50% {
        background: linear-gradient(135deg, var(--bg-body) 0%, var(--btn-primary-bg) 30%, var(--bg-color) 100%);
        background-size: 400% 400%;
        background-position: 50% 50%;
      }
      100% {
        background: var(--bg-color);
        background-size: 100% 100%;
        background-position: 0% 0%;
      }
    }

    /* Initial states for animated elements when animations are enabled */
    [data-animations="enabled"] .form-group {
      opacity: 0;
      transform: translateX(-20px);
      animation: slideIn 0.5s ease-out forwards;
    }

    [data-animations="enabled"] .page-load-animation {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease-out forwards;
    }

    /* Background gradient animation on page load */
    [data-animations="enabled"] .background-gradient-load {
      animation: backgroundGradientLoad 1.2s ease-in-out forwards;
    }

    [data-animations="enabled"] .theme-transition {
      transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out, border-color 0.3s ease-in-out;
    }

    /* Enhanced theme transition with background slide effect */
    [data-animations="enabled"] .theme-transition .theme-background-slide {
      position: relative;
      overflow: hidden;
    }

    [data-animations="enabled"] .theme-transition .theme-background-slide::before {
      content: '';
      position: absolute;
      top: -100%;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--bg-color);
      animation: themeSlideDown 0.3s ease-in-out forwards;
      z-index: -1;
    }

    /* Color fade effect for theme transitions */
    [data-animations="enabled"] .theme-transition * {
      animation: colorFade 0.3s ease-in-out;
    }

    [data-animations="enabled"] .password-generate-animation {
      animation: pulse 0.6s ease-in-out;
    }

    [data-animations="enabled"] .form-group:nth-child(1) { animation-delay: 0.1s; }
    [data-animations="enabled"] .form-group:nth-child(2) { animation-delay: 0.2s; }
    [data-animations="enabled"] .form-group:nth-child(3) { animation-delay: 0.3s; }
    [data-animations="enabled"] .form-group:nth-child(4) { animation-delay: 0.4s; }
    [data-animations="enabled"] .form-group:nth-child(5) { animation-delay: 0.5s; }
    [data-animations="enabled"] .form-group:nth-child(6) { animation-delay: 0.6s; }
    [data-animations="enabled"] .form-group:nth-child(7) { animation-delay: 0.7s; }
    [data-animations="enabled"] .form-group:nth-child(8) { animation-delay: 0.8s; }

    /* Respect user's motion preferences */
    @media (prefers-reduced-motion: reduce) {
      .animation-toggle.animation-enabled .animation-icon {
        animation: none;
      }
      
      [data-animations="enabled"] .page-load-animation,
      [data-animations="enabled"] .theme-transition,
      [data-animations="enabled"] .password-generate-animation,
      [data-animations="enabled"] .background-gradient-load,
      [data-animations="enabled"] .form-group {
        animation: none;
        transition: none;
        opacity: 1;
        transform: none;
      }

      [data-animations="enabled"] .theme-transition .theme-background-slide::before {
        animation: none;
      }

      [data-animations="enabled"] .theme-transition * {
        animation: none;
      }
    }
  </style>
</head>

<body style="padding: 0px; margin:0px; background-color: var(--bg-body);">
  <div id="main" style="padding: 1px 20px 20px 20px; background-color: var(--bg-color)">
    <h1 style="margin-bottom: 6px;"><span id="host" style="color: var(--host-color)"></span> &nbsp;<i
        style="color: var(--text-color); font-size: smaller">password generator</i></h1>
    <i style="color: var(--subtitle-color)">&nbsp;&nbsp;No Ads, No Third Party Trackers, No BS</i>
    <br />
    <br />
    <div>
      <div class="container">
        <form id="generate-password-form" class="form">
          <div class="form-group">
            <label for="plength">Length:
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">The number of characters in the generated password. Longer passwords are more secure.</span>
              </span>
            </label>
            <input type="number" id="plength" name="plength" value="12" min="1" max="100" required class="form-control">
          </div>
          <div class="form-group">
            <label for="characterProfile">Character Set:
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Conservative: Safe characters that work on most websites.

Standard: Includes brackets and punctuation.

Full: All special characters including symbols that some sites may not accept.</span>
              </span>
            </label>
            <select id="characterProfile" name="characterProfile" class="form-control">
              <option value="conservative">Conservative (safe for most websites)</option>
              <option value="standard">Standard (includes brackets and punctuation)</option>
              <option value="full">Full (all special characters)</option>
            </select>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" id="includeLowercase" name="includeLowercase" checked class="form-check-input">
            <label for="includeLowercase" class="form-check-label">Lowercase letters
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Include lowercase letters (a-z) in the password.</span>
              </span>
            </label>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" id="includeUppercase" name="includeUppercase" checked class="form-check-input">
            <label for="includeUppercase" class="form-check-label">Uppercase letters
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Include uppercase letters (A-Z) in the password.</span>
              </span>
            </label>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" id="includeNumeric" name="includeNumeric" checked class="form-check-input">
            <label for="includeNumeric" class="form-check-label">Numbers
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Include numeric digits (0-9) in the password.</span>
              </span>
            </label>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" id="includeSpecial" name="includeSpecial" checked class="form-check-input">
            <label for="includeSpecial" class="form-check-label">Special characters
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Include special characters like !@#$%^&* based on the selected character set.</span>
              </span>
            </label>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" id="includeAmbiguous" name="includeAmbiguous" class="form-check-input">
            <label for="includeAmbiguous" class="form-check-label">Include ambiguous characters
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Include characters that look similar and can be confused when typing, like lowercase 'i', uppercase 'I', lowercase 'l', uppercase 'L', the number '1', zero '0', and uppercase 'O'.</span>
              </span>
            </label>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" id="colorCoded" name="colorCoded" checked class="form-check-input">
            <label for="colorCoded" class="form-check-label">Color-coded characters
              <span class="tooltip">
                <div class="tooltip-icon">?</div>
                <span class="tooltiptext">Display numbers in red and special characters in light blue to distinguish them from letters in the generated password.</span>
              </span>
            </label>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary">Generate password</button>
            <button type="reset" class="btn btn-secondary">Defaults</button>
          </div>
          <div id="password-container" class="form-group">
            <label for="password">Password:</label>
            <div id="password" class="form-control password-display" readonly tabindex="0"></div>
          </div>
          <div class="form-group">
            <div class="copy-and-theme-container">
              <button type="button" id="copypassword" class="btn btn-primary">
                <svg class="password-input__icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                  <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                </svg>
                Copy password&nbsp;
              </button>
              <button type="button" id="theme-toggle" class="theme-toggle" title="Toggle theme">
                <!-- System theme icon (default) -->
                <svg id="system-icon" class="theme-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                  <line x1="8" y1="21" x2="16" y2="21"></line>
                  <line x1="12" y1="17" x2="12" y2="21"></line>
                </svg>
                <!-- Light theme icon -->
                <svg id="light-icon" class="theme-icon" style="display: none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="5"></circle>
                  <line x1="12" y1="1" x2="12" y2="3"></line>
                  <line x1="12" y1="21" x2="12" y2="23"></line>
                  <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                  <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                  <line x1="1" y1="12" x2="3" y2="12"></line>
                  <line x1="21" y1="12" x2="23" y2="12"></line>
                  <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                  <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <!-- Dark theme icon -->
                <svg id="dark-icon" class="theme-icon" style="display: none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
              </button>
              <button type="button" id="animation-toggle" class="animation-toggle" title="Toggle animations">
                <!-- Animation icon -->
                <svg class="animation-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m15.5-6.5l-4.5 4.5m-6-6l4.5 4.5m4.5-10.5l-4.5 4.5m-6 6l4.5-4.5"></path>
                </svg>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <hr style="margin: 0px;border: 1px solid var(--footer-border);" />
  <div id="footer" style="padding: 20px; margin: 0px;">
    <div
      style="font-size: small;border: 6px solid var(--footer-support-border);border-radius: 3px;background-color: var(--footer-support-bg);padding: 0px 20px;max-width: 500px; margin-top: 4px;">
      <a id="supportlink" href="#supportlink"><p style="font-size:large; font-weight: bold; color: var(--host-color)">Help Support this Project</p></a>
      <p>Hi there! I'm glad you're interested in this project.</p>
      <p>I host this site at a loss and use no tracking or ads.</p>
      <p>I believe we all deserve quality software that doesn't focus on investors, corporations and the bottom
        dollar...just a good solid user experience.</p>
      <p>You can support this site by donating through the following platforms:</p>
      <ul>
        <li>
          <a href="https://www.paypal.com/donate/?hosted_button_id=GJP29NBGZ33B4" style="color: var(--host-color)"
            target="_blank">PayPal</a>
        </li>
        <li>
          <a href="https://github.com/sponsors/kellyelton" style="color: var(--host-color)" target="_blank">Sponsor on GitHub</a>
        </li>
      </ul>
      <p>Thank you so much for using this site and all of your support! My family and I appreciate it greatly!</p>
    </div>
  </div>
</body>

</html>